var a=Object.defineProperty;var r=(i,t,e)=>t in i?a(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var s=(i,t,e)=>r(i,typeof t!="symbol"?t+"":t,e);class l{constructor(){s(this,"currentAudioElement",null);s(this,"currentMediaInstance",null);s(this,"eventCallbacks",{})}on(t,e){this.eventCallbacks[t]||(this.eventCallbacks[t]=[]),this.eventCallbacks[t].push(e)}off(t,e){this.eventCallbacks[t]&&(this.eventCallbacks[t]=this.eventCallbacks[t].filter(n=>n!==e))}emit(t){this.eventCallbacks[t]&&this.eventCallbacks[t].forEach(e=>e())}stopCurrentAudio(){this.currentAudioElement&&(this.currentAudioElement.pause(),this.currentAudioElement=null),this.currentMediaInstance&&this.currentMediaInstance.stop&&(this.currentMediaInstance.stop(),this.currentMediaInstance=null),this.emit("stopAudio")}setCurrentAudio(t,e){this.stopCurrentAudio(),this.currentAudioElement=t,this.currentMediaInstance=e,this.emit("newAudio")}}const c=new l;export{c as a};
